(function(){"use strict";var e={6786:function(e,t,n){var r=n(9242),a=n(3396);const o=(0,a._)("header",null,[(0,a._)("h1",null,"Covid 19")],-1),i=(0,a.Uk)("Home"),s=(0,a.Uk)(" || "),l=(0,a.Uk)("Vaccinates"),u=(0,a._)("footer",null,"@For SE331 mid term Project",-1);function c(e,t){const n=(0,a.up)("router-link"),r=(0,a.up)("router-view");return(0,a.wg)(),(0,a.iD)(a.HY,null,[o,(0,a._)("nav",null,[(0,a.Wm)(n,{to:"/"},{default:(0,a.w5)((()=>[i])),_:1}),s,(0,a.Wm)(n,{to:"/vaccine"},{default:(0,a.w5)((()=>[l])),_:1})]),(0,a.Wm)(r),u],64)}var p=n(89);const d={},v=(0,p.Z)(d,[["render",c]]);var m=v,h=n(2483);const g={class:"events"},w={class:"pagination"},f=(0,a.Uk)(" Prev Page "),_=(0,a.Uk)(" || "),k=(0,a.Uk)(" Next Page ");function y(e,t,n,r,o,i){const s=(0,a.up)("EventCard"),l=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("div",g,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.events,(e=>((0,a.wg)(),(0,a.j4)(s,{key:e.id,event:e},null,8,["event"])))),128)),(0,a._)("div",w,[1!=n.page?((0,a.wg)(),(0,a.j4)(l,{key:0,id:"page-prev",to:{name:"PatientList",query:{page:n.page-1}},rel:"prev"},{default:(0,a.w5)((()=>[f])),_:1},8,["to"])):(0,a.kq)("",!0),_,i.hasNextPage?((0,a.wg)(),(0,a.j4)(l,{key:1,id:"page-next",to:{name:"PatientList",query:{page:n.page+1}},rel:"next"},{default:(0,a.w5)((()=>[k])),_:1},8,["to"])):(0,a.kq)("",!0)])])])}var b=n(7139);const E={class:"row"},D={class:"col"},P={class:"event-card"},U={id:"id"};function q(e,t,n,r,o,i){const s=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("div",E,[(0,a._)("div",D,[(0,a.Wm)(s,{class:"event-link",to:{name:"PatientDetail",params:{id:n.event.id}}},{default:(0,a.w5)((()=>[(0,a._)("div",P,[(0,a._)("h4",U,"ID: "+(0,b.zw)(n.event.id),1),(0,a._)("h3",null,(0,b.zw)(n.event.name)+" "+(0,b.zw)(n.event.surname),1),(0,a._)("h4",null,(0,b.zw)(n.event.vaccinateStatus),1)])])),_:1},8,["to"])])])}var j={name:"PatientCard",props:{event:{type:Object,required:!0}}};const x=(0,p.Z)(j,[["render",q],["__scopeId","data-v-6d8c5969"]]);var N=x,C=n(6265),S=n.n(C);const z=S().create({baseURL:{NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_BACKEND_URL,withCredentials:!1,headers:{Accept:"application/json","Content-Type":"application/json"}});var O={getEvents(e,t){return z.get("/patient?_limit="+e+"&_page="+t)},getEventId(e){return z.get("/patient/"+e)}},I={name:"PatientList",props:{page:{type:Number,required:!0}},components:{EventCard:N},data(){return{events:null,totalEvents:0,search:""}},computed:{hasNextPage(){let e=Math.ceil(this.totalEvents/5);return this.page<e}},beforeRouteEnter(e,t,n){O.getEvents(5,parseInt(e.query.page)||1).then((e=>{n((t=>{t.events=e.data,t.totalEvents=e.headers["x-total-count"]}))})).catch((()=>{n({name:"NetworkError "})}))},beforeRouteUpdate(e,t,n){O.getEvents(5,parseInt(e.query.page)||1).then((e=>{this.events=e.data,this.totalEvents=e.headers["x-total-count"],n()})).catch((()=>{n({name:"NetworkError"})}))}};const L=(0,p.Z)(I,[["render",y]]);var R=L;const A={key:0},G={class:"head name"},Z={class:"head"},T={class:"head"},V={id:"Docform"},H=(0,a._)("h3",{style:{"margin-bottom":"2vh"}},"Add Patient's Comment",-1),W=(0,a._)("label",{for:"name"},"Doctor's Name:",-1),K=(0,a._)("label",{for:"Comment"},"Doctor's Comment:",-1),M=(0,a._)("input",{class:"button",type:"submit",value:"Submit"},null,-1);function Y(e,t,n,o,i,s){const l=(0,a.up)("DoctorCommentList");return s.GStore?((0,a.wg)(),(0,a.iD)("div",A,[(0,a._)("h1",G,(0,b.zw)(s.GStore.event.name)+" "+(0,b.zw)(s.GStore.event.surname),1),(0,a._)("h2",Z,"Address: "+(0,b.zw)(s.GStore.event.homeTown),1),(0,a._)("h2",T,"Age: "+(0,b.zw)(s.GStore.event.age),1),i.reviews.length?((0,a.wg)(),(0,a.j4)(l,{key:0,reviews:i.reviews},null,8,["reviews"])):(0,a.kq)("",!0),(0,a._)("div",V,[(0,a._)("form",{class:"review-form",onSubmit:t[2]||(t[2]=(0,r.iM)(((...e)=>s.onSubmit&&s.onSubmit(...e)),["prevent"]))},[H,W,(0,a.wy)((0,a._)("input",{id:"name","onUpdate:modelValue":t[0]||(t[0]=e=>i.name=e)},null,512),[[r.nr,i.name]]),K,(0,a.wy)((0,a._)("input",{id:"Comment","onUpdate:modelValue":t[1]||(t[1]=e=>i.comment=e)},null,512),[[r.nr,i.comment]]),M],32)])])):(0,a.kq)("",!0)}const B={class:"review-container"},F=(0,a._)("h3",null,"Comment from doctor:",-1),J={style:{"list-style-type":"none"}},$=(0,a._)("br",null,null,-1),Q=(0,a._)("br",null,null,-1),X={style:{color:"rgba(65, 118, 250, 1)"}};function ee(e,t,n,r,o,i){return(0,a.wg)(),(0,a.iD)("div",B,[F,(0,a._)("ul",J,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.reviews,((e,t)=>((0,a.wg)(),(0,a.iD)("li",{key:t},[$,(0,a.Uk)(' "'+(0,b.zw)(e.comment)+'" ',1),Q,(0,a._)("p",X,"from Dr."+(0,b.zw)(e.name),1)])))),128))])])}var te={name:"DoctorList",props:{reviews:{type:Array,require:!0}}};const ne=(0,p.Z)(te,[["render",ee]]);var re=ne,ae={inject:["GStore"],components:{DoctorCommentList:re},data(){return{reviews:[{name:"Supachok Jrirarojkul",comment:"Good health condition."}],name:"",comment:""}},methods:{addReview(e){this.reviews.push(e)},onSubmit(){if(""===this.name||""===this.comment)return void alert("Review is incomplete. Please fill out every field");let e={name:this.name,comment:this.comment};this.addReview(e),this.name="",this.comment=""}}};const oe=(0,p.Z)(ae,[["render",Y]]);var ie=oe;const se={key:0,class:"events"},le={class:"event-card"},ue={id:"Table_id"},ce=(0,a._)("tr",null,[(0,a._)("th",{class:"IDColumn"},"ID"),(0,a._)("th",null,"Name"),(0,a._)("th",null,"Vaccinates")],-1),pe={class:"IDColumn"},de=(0,a._)("p",{style:{color:"red"}},"and",-1),ve={class:"pagination"},me=(0,a.Uk)(" Prev Page "),he=(0,a.Uk)(" || "),ge=(0,a.Uk)(" Next Page ");function we(e,t,n,r,o,i){const s=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("div",null,[o.events?((0,a.wg)(),(0,a.iD)("div",se,[(0,a._)("div",le,[(0,a._)("table",ue,[ce,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.events,(e=>((0,a.wg)(),(0,a.iD)("tr",{key:e.id},[(0,a._)("td",pe,(0,b.zw)(e.id),1),(0,a._)("td",null,(0,b.zw)(e.name)+"_"+(0,b.zw)(e.surname),1),(0,a._)("td",null,[(0,a.Uk)((0,b.zw)(e.firstDose)+" ",1),de,(0,a.Uk)(" "+(0,b.zw)(e.secondDose),1)])])))),128))])]),(0,a._)("div",ve,[1!=n.page?((0,a.wg)(),(0,a.j4)(s,{key:0,id:"page-prev",to:{name:"vaccineDetail",query:{page:n.page-1}},rel:"prev"},{default:(0,a.w5)((()=>[me])),_:1},8,["to"])):(0,a.kq)("",!0),he,i.hasNextPage?((0,a.wg)(),(0,a.j4)(s,{key:1,id:"page-next",to:{name:"vaccineDetail",query:{page:n.page+1}},rel:"next"},{default:(0,a.w5)((()=>[ge])),_:1},8,["to"])):(0,a.kq)("",!0)])])):(0,a.kq)("",!0)])}var fe={name:"PatientList",props:{page:{type:Number,required:!0}},data(){return{events:null,totalEvents:0}},computed:{hasNextPage(){let e=Math.ceil(this.totalEvents/10);return this.page<e}},beforeRouteEnter(e,t,n){O.getEvents(10,parseInt(e.query.page)||1).then((e=>{n((t=>{t.events=e.data,t.totalEvents=e.headers["x-total-count"]}))})).catch((()=>{n({name:"NetworkError "})}))},beforeRouteUpdate(e,t,n){O.getEvents(10,parseInt(e.query.page)||1).then((e=>{this.events=e.data,this.totalEvents=e.headers["x-total-count"],n()})).catch((()=>{n({name:"NetworkError"})}))}};const _e=(0,p.Z)(fe,[["render",we]]);var ke=_e;const ye=(0,a._)("h1",null,"Oops!",-1),be=(0,a.Uk)("Back to the home page");function Ee(e,t,n,r,o,i){const s=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("div",null,[ye,(0,a._)("h3",null,"The "+(0,b.zw)(n.resource)+" you're looking for is not here.",1),(0,a.Wm)(s,{to:{name:"PatientList"}},{default:(0,a.w5)((()=>[be])),_:1})])}var De={props:{resource:{type:String,required:!0,default:"page"}}};const Pe=(0,p.Z)(De,[["render",Ee]]);var Ue=Pe;const qe={class:"networkError"},je=(0,a._)("h1",null,"Uh-Oh!",-1),xe=(0,a.Uk)(" It looks like you're experiencing some network issues, please take a breath and "),Ne=(0,a.Uk)(" to try again. ");function Ce(e,t){return(0,a.wg)(),(0,a.iD)("div",qe,[je,(0,a._)("h3",null,[xe,(0,a._)("a",{href:"#",onClick:t[0]||(t[0]=t=>e.$router.go(-1))},"click here"),Ne])])}const Se={},ze=(0,p.Z)(Se,[["render",Ce]]);var Oe=ze,Ie=n(530),Le=n.n(Ie),Re=n(4870),Ae=(0,Re.qj)({event:null});const Ge=[{path:"/",name:"PatientList",component:R,props:e=>({page:parseInt(e.query.page)||1})},{path:"/patient/:id",name:"PatientDetail",component:ie,props:!0,beforeEnter:e=>O.getEventId(e.params.id).then((e=>{Ae.event=e.data})).catch((t=>t.response&&404==t.response.status?{name:"404Resource",params:{resource:e.params.id+" Page"}}:{name:"NetworkError"}))},{path:"/vaccine",name:"vaccineDetail",component:ke,props:e=>({page:parseInt(e.query.page)||1})},{path:"/404/:resource",name:"404Resource",component:Ue,props:!0},{path:"/:catchAll(.*)",name:"NotFound",component:Ue},{path:"/network-error",name:"NetworkError",component:Oe}],Ze=(0,h.p7)({history:(0,h.PO)("/"),routes:Ge});Ze.beforeEach((()=>{Le().start()})),Ze.afterEach((()=>{Le().done()}));var Te=Ze;(0,r.ri)(m).use(Te).provide("GStore",Ae).mount("#app")}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.m=e,function(){var e=[];n.O=function(t,r,a,o){if(!r){var i=1/0;for(c=0;c<e.length;c++){r=e[c][0],a=e[c][1],o=e[c][2];for(var s=!0,l=0;l<r.length;l++)(!1&o||i>=o)&&Object.keys(n.O).every((function(e){return n.O[e](r[l])}))?r.splice(l--,1):(s=!1,o<i&&(i=o));if(s){e.splice(c--,1);var u=a();void 0!==u&&(t=u)}}return t}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[r,a,o]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,r){var a,o,i=r[0],s=r[1],l=r[2],u=0;if(i.some((function(t){return 0!==e[t]}))){for(a in s)n.o(s,a)&&(n.m[a]=s[a]);if(l)var c=l(n)}for(t&&t(r);u<i.length;u++)o=i[u],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(c)},r=self["webpackChunkproject"]=self["webpackChunkproject"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=n.O(void 0,[998],(function(){return n(6786)}));r=n.O(r)})();
//# sourceMappingURL=app.485b7a7a.js.map