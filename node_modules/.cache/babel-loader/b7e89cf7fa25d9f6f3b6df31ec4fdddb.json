{"ast":null,"code":"// @ is an alias to /src\nimport EventService from \"@/services/EventService.js\"; // import axios from 'axios'\n\nexport default {\n  name: \"PatientList\",\n  props: {\n    page: {\n      type: Number,\n      required: true\n    }\n  },\n\n  data() {\n    return {\n      events: null,\n      totalEvents: 0\n    };\n  },\n\n  computed: {\n    hasNextPage() {\n      let totalPages = Math.ceil(this.totalEvents / 10);\n      return this.page < totalPages;\n    }\n\n  },\n\n  // eslint-disable-next-line no-unused-vars\n  beforeRouteEnter(routeTo, routeFrom, next) {\n    EventService.getEvents(10, parseInt(routeTo.query.page) || 1).then(response => {\n      next(comp => {\n        comp.events = response.data;\n        comp.totalEvents = response.headers[\"x-total-count\"];\n      });\n    }).catch(() => {\n      next({\n        name: \"NetworkError \"\n      });\n    });\n  },\n\n  beforeRouteUpdate(routeTo, routeFrom, next) {\n    EventService.getEvents(10, parseInt(routeTo.query.page) || 1).then(res => {\n      this.events = res.data;\n      this.totalEvents = res.headers[\"x-total-count\"];\n      next();\n    }).catch(() => {\n      next({\n        name: \"NetworkError\"\n      });\n    });\n  }\n\n};","map":{"version":3,"mappings":"AA+CA;AACA,OAAOA,YAAP,MAAyB,4BAAzB,C,CACA;;AACA,eAAe;EACbC,IAAI,EAAE,aADO;EAEbC,KAAK,EAAE;IACLC,IAAI,EAAE;MACJC,IAAI,EAAEC,MADF;MAEJC,QAAQ,EAAE;IAFN;EADD,CAFM;;EAQbC,IAAI,GAAG;IACL,OAAO;MACLC,MAAM,EAAE,IADH;MAELC,WAAW,EAAE;IAFR,CAAP;EAID,CAbY;;EAcbC,QAAQ,EAAE;IACRC,WAAW,GAAG;MACZ,IAAIC,UAAS,GAAIC,IAAI,CAACC,IAAL,CAAU,KAAKL,WAAL,GAAmB,EAA7B,CAAjB;MACA,OAAO,KAAKN,IAAL,GAAYS,UAAnB;IACD;;EAJO,CAdG;;EAoBb;EACAG,gBAAgB,CAACC,OAAD,EAAUC,SAAV,EAAqBC,IAArB,EAA2B;IACzClB,YAAY,CAACmB,SAAb,CAAuB,EAAvB,EAA2BC,QAAQ,CAACJ,OAAO,CAACK,KAAR,CAAclB,IAAf,CAAR,IAAgC,CAA3D,EACGmB,IADH,CACSC,QAAD,IAAc;MAClBL,IAAI,CAAEM,IAAD,IAAU;QACbA,IAAI,CAAChB,MAAL,GAAce,QAAQ,CAAChB,IAAvB;QACAiB,IAAI,CAACf,WAAL,GAAmBc,QAAQ,CAACE,OAAT,CAAiB,eAAjB,CAAnB;MACD,CAHG,CAAJ;IAID,CANH,EAOGC,KAPH,CAOS,MAAM;MACXR,IAAI,CAAC;QAAEjB,IAAI,EAAE;MAAR,CAAD,CAAJ;IACD,CATH;EAUD,CAhCY;;EAiCb0B,iBAAiB,CAACX,OAAD,EAAUC,SAAV,EAAqBC,IAArB,EAA2B;IAC1ClB,YAAY,CAACmB,SAAb,CAAuB,EAAvB,EAA2BC,QAAQ,CAACJ,OAAO,CAACK,KAAR,CAAclB,IAAf,CAAR,IAAgC,CAA3D,EACGmB,IADH,CACSM,GAAD,IAAS;MACb,KAAKpB,MAAL,GAAcoB,GAAG,CAACrB,IAAlB;MACA,KAAKE,WAAL,GAAmBmB,GAAG,CAACH,OAAJ,CAAY,eAAZ,CAAnB;MACAP,IAAI;IACL,CALH,EAMGQ,KANH,CAMS,MAAM;MACXR,IAAI,CAAC;QAAEjB,IAAI,EAAE;MAAR,CAAD,CAAJ;IACD,CARH;EASD;;AA3CY,CAAf","names":["EventService","name","props","page","type","Number","required","data","events","totalEvents","computed","hasNextPage","totalPages","Math","ceil","beforeRouteEnter","routeTo","routeFrom","next","getEvents","parseInt","query","then","response","comp","headers","catch","beforeRouteUpdate","res"],"sourceRoot":"","sources":["/Users/supachokjirarojkul/Desktop/SE331-2022-Project-1/src/views/VaccineView.vue"],"sourcesContent":["<template>\n  <div>\n    <!-- <input type=\"text\" placeholder=\"Search patient...\" /> -->\n    <div class=\"events\" v-if=\"events\">\n      <div class=\"event-card\">\n        <table id=\"Table_id\">\n          <tr>\n            <th class=\"IDColumn\">ID</th>\n            <th>Name</th>\n            <th>Vaccinates</th>\n          </tr>\n          <tr v-for=\"events in events\" :key=\"events.id\">\n            <td class=\"IDColumn\">{{ events.id }}</td>\n            <td>{{ events.name }}_{{ events.surname }}</td>\n            <td>\n              {{ events.firstDose }}\n              <p style=\"color: red\">and</p>\n              {{ events.secondDose }}\n            </td>\n          </tr>\n        </table>\n      </div>\n\n      <div class=\"pagination\">\n        <router-link\n          id=\"page-prev\"\n          :to=\"{ name: 'vaccineDetail', query: { page: page - 1 } }\"\n          rel=\"prev\"\n          v-if=\"page != 1\"\n        >\n          Prev Page\n        </router-link>\n        ||\n        <router-link\n          id=\"page-next\"\n          :to=\"{ name: 'vaccineDetail', query: { page: page + 1 } }\"\n          rel=\"next\"\n          v-if=\"hasNextPage\"\n        >\n          Next Page\n        </router-link>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n// @ is an alias to /src\nimport EventService from \"@/services/EventService.js\";\n// import axios from 'axios'\nexport default {\n  name: \"PatientList\",\n  props: {\n    page: {\n      type: Number,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      events: null,\n      totalEvents: 0,\n    };\n  },\n  computed: {\n    hasNextPage() {\n      let totalPages = Math.ceil(this.totalEvents / 10);\n      return this.page < totalPages;\n    },\n  },\n  // eslint-disable-next-line no-unused-vars\n  beforeRouteEnter(routeTo, routeFrom, next) {\n    EventService.getEvents(10, parseInt(routeTo.query.page) || 1)\n      .then((response) => {\n        next((comp) => {\n          comp.events = response.data;\n          comp.totalEvents = response.headers[\"x-total-count\"];\n        });\n      })\n      .catch(() => {\n        next({ name: \"NetworkError \" });\n      });\n  },\n  beforeRouteUpdate(routeTo, routeFrom, next) {\n    EventService.getEvents(10, parseInt(routeTo.query.page) || 1)\n      .then((res) => {\n        this.events = res.data;\n        this.totalEvents = res.headers[\"x-total-count\"];\n        next();\n      })\n      .catch(() => {\n        next({ name: \"NetworkError\" });\n      });\n  },\n};\n</script>\n\n<style>\n@import url(\"https://fonts.googleapis.com/css2?family=Montserrat&display=swap\");\n\n* {\n  padding: 0;\n  margin: 0;\n  box-sizing: border-box;\n  font-family: \"Montserrat\", sans-serif;\n}\n\ntable,\nth,\ntd {\n  margin-left: auto;\n  font-size: 20px;\n  margin-right: auto;\n  border: 1px solid black;\n}\n\nbody {\n  min-height: 100vh;\n  background-color: rgb(234, 242, 255);\n}\n\ninput {\n  display: block;\n  width: 350px;\n  margin: 20px auto;\n  padding: 10px 45px;\n  background-size: 15px 15px;\n  font-size: 16px;\n  border: none;\n  border-radius: 5px;\n  box-shadow: rgba(50, 50, 93, 0.25) 0px 2px 5px -1px,\n    rgba(0, 0, 0, 0.3) 0px 1px 3px -1px;\n}\n\n.events {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n\n.IDColumn {\n  color: red;\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}