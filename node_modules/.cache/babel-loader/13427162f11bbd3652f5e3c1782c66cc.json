{"ast":null,"code":"import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, resolveComponent as _resolveComponent, createBlock as _createBlock, createTextVNode as _createTextVNode, withCtx as _withCtx, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"events\"\n};\nconst _hoisted_2 = {\n  class: \"pagination\"\n};\n\nconst _hoisted_3 = /*#__PURE__*/_createTextVNode(\" Prev Page \");\n\nconst _hoisted_4 = /*#__PURE__*/_createTextVNode(\" || \");\n\nconst _hoisted_5 = /*#__PURE__*/_createTextVNode(\" Next Page \");\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_EventCard = _resolveComponent(\"EventCard\");\n\n  const _component_router_link = _resolveComponent(\"router-link\");\n\n  return _openBlock(), _createElementBlock(\"div\", null, [_createElementVNode(\"div\", _hoisted_1, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.events, event => {\n    return _openBlock(), _createBlock(_component_EventCard, {\n      key: event.id,\n      event: event\n    }, null, 8\n    /* PROPS */\n    , [\"event\"]);\n  }), 128\n  /* KEYED_FRAGMENT */\n  )), _createElementVNode(\"div\", _hoisted_2, [$props.page != 1 ? (_openBlock(), _createBlock(_component_router_link, {\n    key: 0,\n    id: \"page-prev\",\n    to: {\n      name: 'PatientList',\n      query: {\n        page: $props.page - 1\n      }\n    },\n    rel: \"prev\"\n  }, {\n    default: _withCtx(() => [_hoisted_3]),\n    _: 1\n    /* STABLE */\n\n  }, 8\n  /* PROPS */\n  , [\"to\"])) : _createCommentVNode(\"v-if\", true), _hoisted_4, $options.hasNextPage ? (_openBlock(), _createBlock(_component_router_link, {\n    key: 1,\n    id: \"page-next\",\n    to: {\n      name: 'PatientList',\n      query: {\n        page: $props.page + 1\n      }\n    },\n    rel: \"next\"\n  }, {\n    default: _withCtx(() => [_hoisted_5]),\n    _: 1\n    /* STABLE */\n\n  }, 8\n  /* PROPS */\n  , [\"to\"])) : _createCommentVNode(\"v-if\", true)])])]);\n}","map":{"version":3,"mappings":";;EAESA,KAAK,EAAC;;;EAGJA,KAAK,EAAC;;;iDAMR;;iDAEa;;iDAOb;;;;;;;uBAnBPC,oBAwBM,KAxBN,EAwBM,IAxBN,EAwBM,CAvBJC,oBAsBM,KAtBN,cAsBM,oBArBJD,oBAAoEE,SAApE,EAAoE,IAApE,EAAoEC,YAAzCC,YAAyC,EAAlDC,KAAe,IAAV;yBAAvBC,aAAoEC,oBAApE,EAAoE;MAAhCC,GAAG,EAAEH,KAAK,CAACI,EAAqB;MAAhBJ,KAAK,EAAEA;IAAS,CAApE;;IAAA;GAAoE,CAApE;;EAAA,CAqBI,GAnBJJ,oBAkBM,KAlBN,cAkBM,CAbIS,eAAI,mBAJZJ,aAOcK,sBAPd,EAOc;UAAA;IANZF,EAAE,EAAC,WAMS;IALXG,EAAE;MAAAC;MAAAC;QAAAC,MAAwCL,cAAI;MAA5C;IAAA,CAKS;IAJZM,GAAG,EAAC;EAIQ,CAPd;sBAKC,MAED;;;;GAPA;;EAAA,8CAiBI,cAJIC,sCAJRX,aAOcK,sBAPd,EAOc;UAAA;IANZF,EAAE,EAAC,WAMS;IALXG,EAAE;MAAAC;MAAAC;QAAAC,MAAwCL,cAAI;MAA5C;IAAA,CAKS;IAJZM,GAAG,EAAC;EAIQ,CAPd;sBAKC,MAED;;;;GAPA;;EAAA,8CAQI,CAlBN,CAmBI,CAtBN,CAuBI,CAxBN","names":["class","_createElementBlock","_createElementVNode","_Fragment","_renderList","$data","event","_createBlock","_component_EventCard","key","id","$props","_component_router_link","to","name","query","page","rel","$options"],"sourceRoot":"","sources":["/Users/supachokjirarojkul/Desktop/SE331-2022-Project-1/src/views/PatientList.vue"],"sourcesContent":["<template>\n  <div>\n    <div class=\"events\">\n      <EventCard v-for=\"event in events\" :key=\"event.id\" :event=\"event\" />\n\n      <div class=\"pagination\">\n        <router-link\n          id=\"page-prev\"\n          :to=\"{ name: 'PatientList', query: { page: page - 1 } }\"\n          rel=\"prev\"\n          v-if=\"page != 1\"\n        >\n          Prev Page\n        </router-link>\n        ||\n        <router-link\n          id=\"page-next\"\n          :to=\"{ name: 'PatientList', query: { page: page + 1 } }\"\n          rel=\"next\"\n          v-if=\"hasNextPage\"\n        >\n          Next Page\n        </router-link>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n// @ is an alias to /src\nimport EventCard from \"@/components/EventCard.vue\";\nimport EventService from \"@/services/EventService.js\";\n// import axios from 'axios'\nexport default {\n  name: \"PatientList\",\n  props: {\n    page: {\n      type: Number,\n      required: true,\n    },\n  },\n  components: {\n    EventCard, // register it as a child component\n  },\n\n  data() {\n    return {\n      events: null,\n      totalEvents: 0,\n      search: \"\",\n    };\n  },\n  computed: {\n    hasNextPage() {\n      let totalPages = Math.ceil(this.totalEvents / 5);\n      return this.page < totalPages;\n    },\n  },\n  // eslint-disable-next-line no-unused-vars\n  beforeRouteEnter(routeTo, routeFrom, next) {\n    EventService.getEvents(5, parseInt(routeTo.query.page) || 1)\n      .then((response) => {\n        next((comp) => {\n          comp.events = response.data;\n          comp.totalEvents = response.headers[\"x-total-count\"];\n        });\n      })\n      .catch(() => {\n        next({ name: \"NetworkError \" });\n      });\n  },\n  beforeRouteUpdate(routeTo, routeFrom, next) {\n    EventService.getEvents(5, parseInt(routeTo.query.page) || 1)\n      .then((res) => {\n        this.events = res.data;\n        this.totalEvents = res.headers[\"x-total-count\"];\n        next();\n      })\n      .catch(() => {\n        next({ name: \"NetworkError\" });\n      });\n  },\n};\n</script>\n\n<style>\n@import url(\"https://fonts.googleapis.com/css2?family=Montserrat&display=swap\");\n\n* {\n  padding: 0;\n  margin: 0;\n  box-sizing: border-box;\n  font-family: \"Montserrat\", sans-serif;\n}\n\nbody {\n  min-height: 100vh;\n  background-color: rgb(234, 242, 255);\n}\n\ninput {\n  display: block;\n  width: 350px;\n  margin: 20px auto;\n  padding: 10px 45px;\n  background-size: 15px 15px;\n  font-size: 16px;\n  border: none;\n  border-radius: 5px;\n  box-shadow: rgba(50, 50, 93, 0.25) 0px 2px 5px -1px,\n    rgba(0, 0, 0, 0.3) 0px 1px 3px -1px;\n}\n\n.events {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}